<form id="login" method="post">
   <input id="input-email" type="text" placeholder="email" />
   <input id="input-password" type="text" placeholder="password" />
   <button type="submit">Login</button>
</form>
<h2>Login</h2>
<script>
   const form = document.getElementById("login");
      
   form.addEventListener('submit', async e => {
      e.preventDefault();
      const myHeaders = new Headers();
      myHeaders.append("Content-Type", "application/json");
   
     const rawData = await fetch("http://127.0.0.1:8081/user/auth/login", {
     method: 'POST',
     headers: myHeaders,
     body: JSON.stringify({
     "email": document.getElementById('input-email').value,
     "password":  document.getElementById('input-password').value}),
     redirect: 'follow'});
   const data =  await rawData.json();
    console.log(data)
   if (data.token){
   localStorage.setItem('token', JSON.stringify(data.token))
   location.href = '/user/profile?token='+JSON.parse(localStorage.getItem('token'))
   } }, false)
</script>